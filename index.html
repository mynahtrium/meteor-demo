<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Meteor Impact Simulation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="ui">
    <label>Simulation Speed:</label>
    <input type="range" id="simSpeed" min="0.01" max="5" step="0.01" value="1">
    <div class="small">x <span id="simSpeedVal">1.00</span></div>

    <label>Meteor Speed</label>
    <input type="range" id="speed" min="0.01" max="0.2" step="0.01" value="0.05">
    <div class="small">v <span id="speedVal">0.05</span></div>

      <div class="ui-title">Meteor Impact Simulator</div>

    <div class="button-row">
      <button id="reset">Reset</button>
      <button id="pause">Pause</button>
      <button id="toggleAiming">Hide Aiming</button>
      <button id="fire">Fire</button>
    </div>
    <div class="counters">
      Meteors: <span id="meteorCount">0</span><br>
      Impacts: <span id="impactCount">0</span>
      <div>Last impact energy: <span id="impactEnergy">-</span></div>
    </div>
    <hr>

    <label>NASA API Key:</label>
    <input type="text" id="apiKey" placeholder="Enter your key" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
    <button id="fetch">Fetch Asteroid List</button>
  <button id="loadMore">Load More Asteroids</button>

    <label>Select Asteroid:</label>
    <select id="asteroidSelect"></select>
    <button id="spawnAsteroid">Spawn Selected Asteroid</button>

  <label>Physics</label>
  <button id="toggleRealism">Enable Realistic Physics</button>
  <button id="highResTex">Load High-res Earth Texture</button>
  <label style="margin-top:6px;display:block;font-weight:normal">Or upload a local Earth texture:</label>
  <input type="file" id="uploadTex" accept="image/*" autocomplete="off">

    <div id="asteroidData"></div>
    <hr>
    <label>Target Body</label>
    <select id="targetBody">
      <option value="Earth">Earth</option>
      <option value="Moon">Moon</option>
      <option value="Sun">Sun</option>
    </select>
    <div class="button-row">
      <button id="focusTarget">Focus</button>
      <button id="spawnAtTarget">Spawn At Target</button>
    </div>
    <label style="margin-top:8px;display:block"><input type="checkbox" id="showAeroEffects"> Show Aerodynamic Effects</label>
  </div>
  <!-- Win98-style taskbar -->
  <div id="win98-taskbar">
    <button id="start-button">Start</button>
    <div id="taskbar-buttons">
      <button id="open-editor">TextPad</button>
      <button id="open-options">Options</button>
    </div>
    <div id="taskbar-tray">TRAY</div>
  </div>

  <!-- Simple text editor window (hidden by default) -->
  <div id="text-editor" class="window hidden">
    <div class="titlebar">
      <span class="title">TextPad - Info</span>
      <div class="title-buttons">
        <button id="editor-min">_</button>
        <button id="editor-close">X</button>
      </div>
    </div>
    <div class="window-body">
      <textarea id="editor-content" spellcheck="false"></textarea>
    </div>
  </div>
    <!-- Impact summary window (top-right) -->
    <div id="impact-window" class="window small">
      <div class="titlebar">
        <span class="title">Impact Summaries</span>
        <div class="title-buttons"><button id="impact-close">X</button></div>
      </div>
      <div class="window-body" id="impactPanelContent" style="overflow:auto; max-height:280px; padding:6px; background:transparent"></div>
    </div>
  <script type="module" src="/main.js"></script>

    <!-- Options app window -->
    <div id="options-app" class="window hidden">
      <div class="titlebar">
        <span class="title">Options</span>
        <div class="title-buttons"><button id="options-close">X</button></div>
      </div>
      <div class="window-body">
        <label><input type="checkbox" id="opt-sun" checked> Show Sun</label>
        <label><input type="checkbox" id="opt-moon" checked> Show Moon</label>
        <label><input type="checkbox" id="opt-trails" checked> Meteor Trails</label>
        <label><input type="checkbox" id="opt-realistic"> Realistic Physics</label>
        <label><input type="checkbox" id="opt-moon-craters" checked> Moon Craters Visuals</label>
        <label style="margin-top:8px;display:block">Meteor Size Keyboard Control: <input type="checkbox" id="opt-key-size"> (Use +/- keys)</label>
        <label style="margin-top:8px;display:block"><input type="range" id="opt-meteor-size-range" min="0.1" max="200" step="0.1" value="1"> Size</label>
      </div>
    </div>
</body>
</html>
